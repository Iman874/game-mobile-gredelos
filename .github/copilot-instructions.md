## Purpose
Short, actionable guidance for AI coding agents working on this Unity project.

## Quick project overview
- Unity project (see `ProjectSettings/ProjectVersion.txt` — editor: `m_EditorVersion: 6000.1.9f1`).
- Uses Universal Render Pipeline (URP) and Unity Input System. Key packages in `Packages/manifest.json` include `com.unity.render-pipelines.universal`, `com.unity.inputsystem`, `com.unity.visualscripting`, and `com.unity.test-framework`.
- Main game assets and code live under `Assets/` (notably `Assets/gredelos/`, `Assets/Editor/`, and `Assets/Resources/`). Builds appear under `Build/` (e.g., `Build/ios/Il2CppOutputProject` - IL2CPP present).

## What to change and why
- Prefer small, focused changes: Unity C# scripts, ScriptableObjects, and input actions are tightly coupled with scenes and assets. Look for related prefabs/scenes in `Assets/` before altering behaviour.
- Preserve Unity-generated GUIDs and asset YAML structure when editing serialized assets; avoid reserializing by hand unless necessary.

## Important patterns & examples
- Input system: project uses the new Input System asset `Assets/InputSystem_Actions.inputactions`. Example: Player map defines `Move` (Vector2), `Look`, `Attack`, `Interact` and bindings for Keyboard/Mouse, Gamepad, Touch, XR. When editing input actions, update both the `.inputactions` file and any generated C# wrappers (search for classes that reference `InputSystem_Actions`).
- Rendering: URP config under `Assets/UniversalRenderPipelineGlobalSettings.asset`. Prefer URP-safe shader changes.
- Visual Scripting: package `com.unity.visualscripting` is present — check `Assets/` for logic graphs; don't mix heavy logic across both Visual Scripting and C# without an explicit adapter layer.

## Builds, tests & debugging (practical commands)
- Local iteration: open the project in the Unity Editor version listed in `ProjectVersion.txt` (use Unity Hub to match versions). Changes to assets require opening the Editor to reserialize.
- Headless/CI builds (PowerShell example):
```powershell
# Windows PowerShell example: run Unity in batchmode to build a player
& "C:\Program Files\Unity\Hub\Editor\<version>\Editor\Unity.exe" -batchmode -projectPath "d:\Iman874\Documents\Github\mobile-game-gredelos\game-mobile-gredelos" -quit -buildTarget iOS -executeMethod BuildScript.PerformBuild -logFile "build.log"
```
Replace `<version>` with the installed Unity editor folder that matches `ProjectVersion.txt`. If no `BuildScript` exists, open the project and use the Editor "Build Settings" UI.

## Conventions & repo hygiene
- Do not commit `Library/`, `Temp/`, or local Editor caches (these are present and large). Project includes `ignore.conf.txt` — follow it. Commit `Assets/`, `ProjectSettings/`, `Packages/`, and `Build/` artifacts only where intended.
- Asset naming: follow folder grouping under `Assets/` (game code under `gredelos/`, editor tooling under `Editor/`). When creating new runtime assemblies, prefer per-feature folders and consider creating `.asmdef` files (check existing ones if present).

## Integration points / external dependencies
- Networking/multiplayer: `com.unity.multiplayer.center` is listed — inspect `Assets/` for networking code. Builds with IL2CPP appear under `Build/ios/Il2CppOutputProject` — treat native plugin changes carefully.
- Native platform specifics: iOS build artifacts are present in `Build/ios/` — expect platform-specific code and Xcode projects generated by Unity.

## How to be helpful as an AI coding agent
- When asked to change gameplay: locate related prefab/scene under `Assets/`, the C# MonoBehaviour, and any Input System action bindings (example: `Player/Move` in `Assets/InputSystem_Actions.inputactions`). Modify code + update serialized defaults on the prefab/scene.
- For build or pipeline changes: warn about Unity Editor version mismatch (check `ProjectSettings/ProjectVersion.txt`) and suggest updating `Packages/manifest.json` only when necessary.
- For refactors: prefer small, reversible commits. Avoid touching many scenes/assets in a single PR.

## References (quick links in repo)
- `ProjectSettings/ProjectVersion.txt` — required Unity Editor version
- `Packages/manifest.json` — package dependencies
- `Assets/InputSystem_Actions.inputactions` — input mappings (Player, UI maps)
- `Assets/UniversalRenderPipelineGlobalSettings.asset` — URP settings
- `Build/ios/` — example platform build outputs (IL2CPP)

If anything here is unclear or you'd like me to include more examples (specific script names, scenes, or asmdef locations), tell me which area to inspect and I'll update this file.
